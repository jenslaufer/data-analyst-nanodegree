---
title: 'Exploration baseball data'
output:
  html_document: default
  html_notebook: default
  pdf_document: default
---

```{r  echo=FALSE, warning=FALSE, message=FALSE}
library(ggplot2)
library(dplyr)
library(tidyr)
library(gridExtra)
library(GGally)
```


```{r}
df <- read.csv('data/baseball_data.csv')
```

```{r}
df[duplicated(df$name),]
```

```{r}

df$HR_normalized = (df$HR - min(df$HR))/(max(df$HR) - min(df$HR))
df$avg_normalized = (df$avg - min(df$avg))/(max(df$avg) - min(df$avg))
df$valuability = df$avg_normalized + df$HR_normalized 
df$valuability_normalized = (df$valuability - 
                            min(df$valuability))/(max(df$valuability) 
                              - min(df$valuability)) 
df$ratio_HR_valuability = df$HR_normalized / df$valuability
df$ratio_avg_valuability = df$avg_normalized / df$valuability

df[is.na(df)] <- 0


df$name = make.unique(as.character(df$name))
```

```{r}

write.csv(df, 'data/baseball_data.csv', quote=FALSE, row.names = FALSE)
```



```{r}
str(df)
```




```{r warning=FALSE, echo=FALSE, fig.height=10, fig.width=20, message=FALSE}
ggpairs(df[, -which(names(df) %in% c('name'))])
```


